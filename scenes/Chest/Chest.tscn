[gd_scene load_steps=20 format=3 uid="uid://vrgt48y3uybr"]

[ext_resource type="Script" uid="uid://cav52w4jln85b" path="res://scenes/Chest/Chest.cs" id="1_ynxvs"]
[ext_resource type="Texture2D" uid="uid://bh6krdvx2fbul" path="res://assets/upgradeIcons/kafa.png" id="2_dbka4"]
[ext_resource type="Script" uid="uid://boaq6a6j3b5qq" path="res://resources/CommonResource.cs" id="2_ewlxh"]
[ext_resource type="Texture2D" uid="uid://rx1xomdx0ypt" path="res://icon.svg" id="3_hmwuc"]
[ext_resource type="Texture2D" uid="uid://2sjbkn3q2upm" path="res://assets/upgradeIcons/slina.png" id="4_4h4g4"]
[ext_resource type="Texture2D" uid="uid://dvot7xajoe565" path="res://assets/upgradeIcons/lepeza.png" id="5_hpdqa"]

[sub_resource type="Resource" id="Resource_ewlxh"]
script = ExtResource("2_ewlxh")
image = ExtResource("2_dbka4")
shotDamage = 0
critChance = 0.0
critDamage = 0.0
health = 0
fireRate = 0.1
turretDamage = 0
turretCritChance = 0
turretHealth = 0
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = false
imagePath = ""
name = "Fire Rate upgrade"

[sub_resource type="Resource" id="Resource_hmwuc"]
script = ExtResource("2_ewlxh")
shotDamage = 0
critChance = 0.0
critDamage = 0.0
health = 5
fireRate = 0.0
turretDamage = 0
turretCritChance = 0
turretHealth = 0
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = false
imagePath = ""
name = "Health upgrade"

[sub_resource type="Resource" id="Resource_5xm1b"]
script = ExtResource("2_ewlxh")
shotDamage = 5
critChance = 0.0
critDamage = 0.0
health = 0
fireRate = 0.0
turretDamage = 0
turretCritChance = 0
turretHealth = 0
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = false
imagePath = ""
name = "Shot damage upgrade"

[sub_resource type="Resource" id="Resource_ejsq6"]
script = ExtResource("2_ewlxh")
shotDamage = 0
critChance = 10.0
critDamage = 0.0
health = 0
fireRate = 0.0
turretDamage = 0
turretCritChance = 0
turretHealth = 0
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = false
imagePath = ""
name = "Crit chance upgrade"

[sub_resource type="Resource" id="Resource_dbka4"]
script = ExtResource("2_ewlxh")
shotDamage = 0
critChance = 0.0
critDamage = 0.2
health = 0
fireRate = 0.0
turretDamage = 0
turretCritChance = 0
turretHealth = 0
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = false
imagePath = ""
name = "Crit Damage update"

[sub_resource type="Resource" id="Resource_4h4g4"]
script = ExtResource("2_ewlxh")
shotDamage = 0
critChance = 0.0
critDamage = 0.0
health = 0
fireRate = 0.0
turretDamage = 5
turretCritChance = 0
turretHealth = 0
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = false
imagePath = ""
name = "Turret damage upgrade"

[sub_resource type="Resource" id="Resource_hpdqa"]
script = ExtResource("2_ewlxh")
shotDamage = 0
critChance = 0.0
critDamage = 0.0
health = 0
fireRate = 0.0
turretDamage = 0
turretCritChance = 0
turretHealth = 5
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = false
imagePath = ""
name = "Turret health upgrade"

[sub_resource type="Resource" id="Resource_gcywl"]
script = ExtResource("2_ewlxh")
shotDamage = 0
critChance = 0.0
critDamage = 0.0
health = 0
fireRate = 0.0
turretDamage = 0
turretCritChance = 10
turretHealth = 0
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = false
imagePath = ""
name = "Turret crit chance"

[sub_resource type="Resource" id="Resource_kl71k"]
script = ExtResource("2_ewlxh")
shotDamage = 0
critChance = 0.0
critDamage = 0.0
health = 0
fireRate = 0.0
turretDamage = 0
turretCritChance = 0
turretHealth = 0
turretFireRate = 1
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = false
imagePath = ""
name = "Turret fire rate"

[sub_resource type="Resource" id="Resource_as6cb"]
script = ExtResource("2_ewlxh")
image = ExtResource("4_4h4g4")
shotDamage = 0
critChance = 0.0
critDamage = 0.0
health = 0
fireRate = 0.0
turretDamage = 0
turretCritChance = 0
turretHealth = 0
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = true
pushBackOnHit = false
imagePath = ""
name = "Slow down on hit"

[sub_resource type="Resource" id="Resource_e4qv3"]
script = ExtResource("2_ewlxh")
image = ExtResource("5_hpdqa")
shotDamage = 0
critChance = 0.0
critDamage = 0.0
health = 0
fireRate = 0.0
turretDamage = 0
turretCritChance = 0
turretHealth = 0
turretFireRate = 0
cashRegen = 0
cashOnKill = 0
slowOnHit = false
pushBackOnHit = true
imagePath = ""
name = "Push back enemies on hit"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_11upt"]
size = Vector2(56, 60)

[sub_resource type="BoxMesh" id="BoxMesh_11upt"]

[node name="Chest" type="StaticBody2D" node_paths=PackedStringArray("hud", "firstButton", "secondButton", "thirdButton", "sprite1", "sprite2", "sprite3")]
collision_layer = 4
script = ExtResource("1_ynxvs")
hud = NodePath("CanvasLayer")
firstButton = NodePath("CanvasLayer/UpgradeMenu/FirstItem")
secondButton = NodePath("CanvasLayer/UpgradeMenu/FirstItem2")
thirdButton = NodePath("CanvasLayer/UpgradeMenu/FirstItem3")
sprite1 = NodePath("CanvasLayer/UpgradeMenu/FirstItem/Sprite2D")
sprite2 = NodePath("CanvasLayer/UpgradeMenu/FirstItem2/Sprite2D")
sprite3 = NodePath("CanvasLayer/UpgradeMenu/FirstItem3/Sprite2D")
commonResources = Array[Resource]([SubResource("Resource_ewlxh"), SubResource("Resource_hmwuc"), SubResource("Resource_5xm1b"), SubResource("Resource_ejsq6"), SubResource("Resource_dbka4"), SubResource("Resource_4h4g4"), SubResource("Resource_hpdqa"), SubResource("Resource_gcywl"), SubResource("Resource_kl71k"), SubResource("Resource_as6cb"), SubResource("Resource_e4qv3")])

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_11upt")

[node name="MeshInstance2D" type="MeshInstance2D" parent="."]
scale = Vector2(50, 52)
mesh = SubResource("BoxMesh_11upt")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
visible = false

[node name="UpgradeMenu" type="Control" parent="CanvasLayer"]
process_mode = 2
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="FirstItem" type="Button" parent="CanvasLayer/UpgradeMenu"]
layout_mode = 0
offset_left = 277.0
offset_top = 277.0
offset_right = 412.0
offset_bottom = 308.0
text = "upgrade firerate"

[node name="Sprite2D" type="Sprite2D" parent="CanvasLayer/UpgradeMenu/FirstItem"]
position = Vector2(69, -64)
scale = Vector2(0.3, 0.3)
texture = ExtResource("3_hmwuc")

[node name="FirstItem2" type="Button" parent="CanvasLayer/UpgradeMenu"]
layout_mode = 0
offset_left = 510.0
offset_top = 327.0
offset_right = 645.0
offset_bottom = 358.0
text = "upgrade firerate"

[node name="Sprite2D" type="Sprite2D" parent="CanvasLayer/UpgradeMenu/FirstItem2"]
position = Vector2(69, -64)
scale = Vector2(0.3, 0.3)
texture = ExtResource("3_hmwuc")

[node name="FirstItem3" type="Button" parent="CanvasLayer/UpgradeMenu"]
layout_mode = 0
offset_left = 748.0
offset_top = 386.0
offset_right = 883.0
offset_bottom = 417.0
text = "upgrade firerate"

[node name="Sprite2D" type="Sprite2D" parent="CanvasLayer/UpgradeMenu/FirstItem3"]
position = Vector2(69, -64)
scale = Vector2(0.3, 0.3)
texture = ExtResource("3_hmwuc")

[connection signal="pressed" from="CanvasLayer/UpgradeMenu/FirstItem" to="." method="_on_first_item_pressed"]
[connection signal="pressed" from="CanvasLayer/UpgradeMenu/FirstItem2" to="." method="_on_second_item_pressed"]
[connection signal="pressed" from="CanvasLayer/UpgradeMenu/FirstItem3" to="." method="_on_third_item_pressed"]
